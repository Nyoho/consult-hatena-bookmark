#+title: consult-hatena-bookmark

#+html: <a href="https://melpa.org/#/consult-hatena-bookmark"><img alt="MELPA" src="https://melpa.org/packages/consult-hatena-bookmark-badge.svg"/></a>
#+html: <a href="https://stable.melpa.org/#/consult-hatena-bookmark"><img alt="MELPA Stable" src="https://stable.melpa.org/packages/consult-hatena-bookmark-badge.svg"/></a>

A package to search your bookmarks of the [[https://b.hatena.ne.jp][Hatena Bookmark]] with [[https://github.com/minad/consult][consult]].

[[https://b.hatena.ne.jp][Hatena Bookmark]] is the biggest social bookmarking site in Japan.

** Usage
Call the function =consult-hatena-bookmark=.

And then, type something after '#' to search with API.

#+begin_src
#someword
#+end_src
(~someword~ is searched with the API.)

Moreover if you input the second '#' after your input, you can filter the result from API locally.

#+begin_src
#someword#foo
#+end_src
(filtered with ~foo~ locally due to consult. It's a very useful feature. The author likes it.)


** Preparation

Set the following for WSSE authentication.

- =consult-hatena-bookmark-hatena-username= (your Hatena ID)
- =consult-hatena-bookmark-hatena-api-key= (your Hatena API key)

Your Hatena API key is written in [[https://blog.hatena.ne.jp/-/config][the setting page of the Hatena blog]].

** leaf.el example
#+begin_src emacs-lisp
  (setq consult-hatena-bookmark-hatena-username "your Hatena ID")
  (setq consult-hatena-bookmark-hatena-api-key "your Hatena API key")
#+end_src

#+begin_src emacs-lisp
  (leaf consult-hatena-bookmark
    :bind
    ("C-c h" . consult-hatena-bookmark))
#+end_src


* æ—¥æœ¬èªèª¬æ˜
consult-hatena-bookmarkã¯ã€Emacsä¸Šã§[[https://github.com/minad/consult][consult]]ã‚’åˆ©ç”¨ã—ã¦è‡ªåˆ†ã®[[https://b.hatena.ne.jp][ã¯ã¦ãªãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯]]ã‚’æ¤œç´¢ã™ã‚‹æ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ã€‚

(breaking change w3m ã‚’ä½¿ã‚ãªã„ã‚ˆã†ã«ã—ã¾ã—ãŸ 0.1.0 ) +å¤–éƒ¨ã‚³ãƒãƒ³ãƒ‰ã¨ã—ã¦ [[http://w3m.sourceforge.net][w3m]] ã‚’ç”¨ã„ã¾ã™ã®ã§ =w3m= ã§[[https://b.hatena.ne.jp][ã¯ã¦ãªãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯]]ã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãŠã„ã¦ãã ã•ã„ã€‚+

èªè¨¼ã«WSSEã‚’ä½¿ã†ã®ã§ã€ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåã‚’ =consult-hatena-bookmark-hatena-username= ã«ã€APIã‚­ãƒ¼ã‚’ =consult-hatena-bookmark-hatena-api-key= ã«è¨­å®šã—ã¦ãã ã•ã„ã€‚
ã¯ã¦ãªAPIã‚­ãƒ¼ã¯[[https://blog.hatena.ne.jp/-/config][ã¯ã¦ãªãƒ–ãƒ­ã‚°ã®ã€Œã‚¢ã‚«ã‚¦ãƒ³ãƒˆè¨­å®šã€â†’ã€ŒåŸºæœ¬è¨­å®šã€â†’ã€ŒAPIã‚­ãƒ¼ã€]]ã«æ›¸ã„ã¦ã‚ã‚Šã¾ã™ã€‚

å†…éƒ¨ã§ã¯[[http://developer.hatena.ne.jp/ja/documents/bookmark/apis/fulltext_search][ãƒã‚¤ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯å…¨æ–‡æ¤œç´¢API]]ã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚

** leaf.el è¨­å®šä¾‹
[[https://github.com/conao3/leaf.el][leaf.el]] ã«ã‚ˆã‚‹è¨­å®šä¾‹ã§ã™ã€‚

ç§˜å¯†è£ã«APIã‚­ãƒ¼ =consult-hatena-bookmark-hatena-api-key= ã‚’è¨­å®šã—ã¦ä¸‹ã•ã„ã€‚ =consult-hatena-bookmark-hatena-username= ã¯ç§˜å¯†ã«ã—ãªãã¦ã„ã„ã§ã™ã€‚

#+begin_src emacs-lisp
  (setq consult-hatena-bookmark-hatena-username "your Hatena ID")
  (setq consult-hatena-bookmark-hatena-api-key "your Hatena API key")
#+end_src

#+begin_src emacs-lisp
  (leaf consult-hatena-bookmark
    :ensure t ;; â†melpaç™»éŒ²ã—ãŸã®ã§ã§ãã¾ã™ğŸ‰
    :bind
    ("C-c h" . consult-hatena-bookmark))
#+end_src

** å‚è€ƒè³‡æ–™
- https://github.com/minad/consult
